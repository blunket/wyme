<html lang="en">
	<head>
		<meta>
		<meta charset="UTF-8">
		<title>Wyme</title>
		</meta>
		<head>
			<header>
				<div id="firebaseui-auth-container"></div>
			</header>
	<body>
		<div id="wyme-app">
			<h1>Wyme</h1>
			<div id="map"></div>

		</div>
		<script src="https://www.gstatic.com/firebasejs/5.0.1/firebase.js"></script>
		<script>
			updateClubCount = function(club){
			return firebase.database().ref('clubs/'+ club + '/count').once('value').then(function(snapshot){
				console.log(snapshot.val())
				firebase.database().ref('clubs/' + club).set({
				'count': (snapshot.val() + 1)
			});
			});
			}
			getClubCount = function(club){
				var count = firebase.database().ref('clubs/' + club);
				count.on('value', function(snapshot){
					updatecount(club, snapshot.val());
				});
			}	
			var config = {
			    apiKey: "AIzaSyBBBwB7S6ekYD-oxLPWFu1G7CkKGTXdw-Q",
			    authDomain: "wyme-wichita.firebaseapp.com",
			    databaseURL: "https://wyme-wichita.firebaseio.com",
			    projectId: "wyme-wichita",
			    storageBucket: "wyme-wichita.appspot.com",
			    messagingSenderId: "831469219617"
			};
			window.onload = function() {
				firebase.initializeApp(config);
				renderLogin();
			}
		</script>
		<script src="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.js"></script>
		<link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/2.5.1/firebaseui.css" />
		<script>
			function renderLogin() {
			var authObject = firebase.auth()
			var ui = new firebaseui.auth.AuthUI(firebase.auth());
			var uiConfig = {
				callbacks: {
					signInSuccessWithAuthResult: function(authResult, redirectUrl) {
						return true;
					},
					uiShown: function() {
					}
				},
				signInflow: 'popup',
				signInSuccessUrl: '/',
				signInOptions: [
					firebase.auth.GoogleAuthProvider.PROVIDER_ID,
					firebase.auth.TwitterAuthProvider.PROVIDER_ID,
					firebase.auth.FacebookAuthProvider.PROVIDER_ID,
					],
				tosUrl: '/'
			};
			ui.start('#firebaseui-auth-container', uiConfig);
			}
		</script>
		    <script>
                var map;
                function initMap() {
                        map = new google.maps.Map(document.getElementById('map'), {
                                center: {lat:-34.397, lng: 150.644},
                                zoom: 8
                        });
                }
        </script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC6EMfL2t2dv9-juHgJCWxJ1iPKtV4QBbQ&callback=initMap" async defer></script>

	</body>
</html>
